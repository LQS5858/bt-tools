!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("qrcode")):"function"==typeof define&&define.amd?define(["qrcode"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).bundle=t(e.QrCode)}(this,function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);return{typeOf:(e,t)=>{let o=typeof e;return"object"!==o?t?o.charAt(0).toUpperCase()+o.slice(1,o.length)==t:o.charAt(0).toUpperCase()+o.slice(1,o.length):t?Object.prototype.toString.call(e).replace(/^\[object (\S+)\]$/,"$1")==t:Object.prototype.toString.call(e).replace(/^\[object (\S+)\]$/,"$1")},RicardoQrcode:class{constructor(e,t,o,n={width:200,height:200,margin:0}){this.content=e,this.canvas=t,this.imgDom=o,this.options=n}imgToggleCanvas=()=>{const e=document.createElement("canvas"),t=e.getContext("2d");return t.fillStyle="#FFFFFF",t.fillRect(0,0,40,40),t.drawImage(this.imgDom,4,4,32,32),e};mergeCanvas=e=>{var t=this.imgToggleCanvas();const o=document.createElement("canvas");o.width=e.width,o.height=e.height,o.getContext("2d").drawImage(e,0,0),o.getContext("2d").drawImage(t,80,80),this.canvas.width=o.width,this.canvas.height=o.height,this.canvas.getContext("2d").drawImage(o,0,0)};ricardoQrcode=()=>new Promise((t,o)=>{n.default.toCanvas(this.content,this.options).then(e=>{this.mergeCanvas(e),t("二维码生成成功!")}).catch(e=>{o(`二维码生成失败,${e}`)})})}}});
